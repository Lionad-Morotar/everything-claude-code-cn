# 群体代理编排

## 可用代理

位于 `~/.claude/agents/`：

| 代理 | 目的 | 使用场景 |
|------|-------|----------|
| planner | 实现规划 | 复杂功能、重构 |
| architect | 系统设计 | 架构决策 |
| tdd-guide | 测试驱动开发 | 新功能、缺陷修复 |
| code-reviewer | 代码审查 | 编写代码后 |
| security-reviewer | 安全分析 | 提交前 |
| build-error-resolver | 修复构建错误 | 构建失败时 |
| e2e-runner | 端到端测试 | 关键用户流程 |
| refactor-cleaner | 冗余代码清理 | 代码维护 |
| doc-updater | 文档更新 | 更新文档 |

## 即时代理使用

无需用户提示：
1. 复杂功能请求 — 使用 **planner** 代理
2. 刚编写/修改的代码 — 使用 **code-reviewer** 代理
3. 缺陷修复或新功能 — 使用 **tdd-guide** 代理
4. 架构决策 — 使用 **architect** 代理

## 并行任务执行

对于独立操作，始终使用并行任务执行：

```markdown
# 正确：并行执行
同时启动 3 个代理：
1. 代理 1：对 auth.ts 进行安全分析
2. 代理 2：对缓存系统进行性能审查
3. 代理 3：对 utils.ts 进行类型检查

# 错误：不必要的顺序执行
先运行代理 1，再运行代理 2，最后运行代理 3
```

## 多视角分析

对于复杂问题，使用拆分角色的子代理：
- 事实审核员
- 高级工程师
- 安全专家
- 一致性审核员
- 冗余检查员
